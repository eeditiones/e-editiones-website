{
    "format": "json",
    "view": "div",
    "doc": "documentation.xml",
    "root": "3.28.11",
    "rootNode": "3.28.11",
    "id": "upgrade-810",
    "odd": "docbook.odd",
    "next": "3.28.11.15",
    "previous": "3.28",
    "nextId": "upgrade-annotation-editor",
    "previousId": "updating",
    "switchView": null,
    "content": "<!DOCTYPE html><html><head></head><body><div class=\"content \"><div class=\"tei-section4\" id=\"upgrade-810\"><pb-observable data=\"3.28.11,3.28.11\" emit=\"transcription\"><h2 class=\"tei-title7 title\">Upgrading from TEI Publisher 8 to 9</h2><p class=\"tei-para\">To upgrade a custom application generated with TEI Publisher 7 to version 8, we recommend to have the source code of both, TEI Publisher 8 and the\n        custom application, in a local directory.</p><p class=\"tei-para\">If you decide to work with the command line, as suggested here, clone TEI Publisher 9 into the directory one level above the one containing your own\n        application source code:</p><pb-code-highlight class=\"tei-programlisting5\" language=\"shell\">git clone https://github.com/eeditiones/tei-publisher-app.git\ncd tei-publisher-app\ngit checkout v9.0.0</pb-code-highlight><p class=\"tei-para\">With both applications in place, work through the following steps:</p><ol class=\"tei-procedure\"><li class=\"tei-step\">\n          <p class=\"tei-para\">Update server-side modules: those live in <span class=\"tei-filename code\">modules/lib</span>. You can safely remove the entire folder and replace it with the\n            corresponding one from version 9 of TEI Publisher.</p>\n        </li><li class=\"tei-step\">\n          <p class=\"tei-para\">Copy <span class=\"tei-filename code\">modules/facets.xql</span>, <span class=\"tei-filename code\">modules/registers.xql</span>, <span class=\"tei-filename code\">modules/iiif-config.xqm</span> and\n            <span class=\"tei-filename code\">modules/annotation-config.xqm</span> from TEI Publisher 9. If you modified any of these locally, you may need to compare.</p>\n        </li><li class=\"tei-step\">\n          <p class=\"tei-para\">Update the webcomponents library to at least 2.15.3 (also see the <a href=\"https://faq.teipublisher.com/webcomponents/version-upgrade/\" class=\"tei-link5\" target=\"\">faq</a>). The version used is defined by a single variable in <span class=\"tei-filename code\">modules/config.xqm</span> :</p>\n          <pb-code-highlight class=\"tei-synopsis4\" language=\"xquery\">declare variable $config:webcomponents := \"2.15.3\";</pb-code-highlight>\n        </li><li class=\"tei-step\">\n          <p class=\"tei-para\">Change the dependency on <span class=\"tei-code2 code\">tei-publisher-lib</span> in <span class=\"tei-filename code\">expath-pkg.xml</span> to 4:</p>\n          <pb-code-highlight class=\"tei-synopsis4\" language=\"xml\">&lt;dependency package=\"http://existsolutions.com/apps/tei-publisher-lib\" semver=\"4\" /&gt;</pb-code-highlight>\n        </li><li class=\"tei-step\">\n          <p class=\"tei-para\">Edit <span class=\"tei-filename code\">resources/odd/configuration.xml</span> and make sure you have an entry for the docx processing extension:</p>\n          <pb-code-highlight class=\"tei-synopsis4\" language=\"xml\">\n&lt;output mode=\"tei\" odd=\"docx\"&gt;\n  &lt;module uri=\"http://www.tei-c.org/tei-simple/xquery/functions/docx\" prefix=\"ext-docx\"/&gt;\n&lt;/output&gt;</pb-code-highlight>\n        </li></ol></pb-observable></div></div></body></html>",
    "footnotes": "",
    "userParams": {
        "webcomponents": 7
    },
    "collection": "doc"
}