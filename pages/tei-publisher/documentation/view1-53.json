{
    "format": "json",
    "view": "div",
    "doc": "documentation.xml",
    "root": "3.11.17.9",
    "rootNode": "3.11.17.9",
    "id": "external-parameters",
    "odd": "docbook.odd",
    "next": "3.11.17.11",
    "previous": "3.11.17.7",
    "nextId": "pm-extensions-templates",
    "previousId": "pm-extensions-default",
    "switchView": null,
    "content": "<!DOCTYPE html>\n<div class=\"content \"><div class=\"tei-section3\" id=\"external-parameters\"><pb-observable data=\"3.11.17.9,3.11.17.9\" emit=\"transcription\">\n        <h3 class=\"tei-title6 title\">External Parameters</h3>\n        <p class=\"tei-para\">\n          The script calling the processing model may pass external parameters into the ODD.\n            They will be available in the variable\n          <span class=\"tei-parameter code\">$parameters</span>\n          , which is an\n            XQuery map. Access parameters using\n          <span class=\"tei-code2 code\">?</span>\n          , the XQuery lookup operator.\n        </p>\n        <p class=\"tei-para\">For example, one can use this feature to control how specific parts of the document\n            are output, without having to define a separate output mode, which would result in much\n            more code. Below we display a shortened header for the document, containing simply its\n            title, but only if the parameter \"header\" is set to \"short\":</p>\n        <pb-code-highlight class=\"tei-programlisting5\" language=\"xml\" line-numbers=\"line-numbers\">&lt;elementSpec mode=\"change\" ident=\"fileDesc\"&gt;\n    &lt;model predicate=\"$parameters?header='short' behaviour=\"block\" cssClass=\"header-short\"&gt;\n      &lt;param name=\"content\" value=\"titleStmt\"/&gt;\n    &lt;/model&gt;\n  ...\n&lt;/elementSpec&gt;</pb-code-highlight>\n        <p class=\"tei-para\">\n          The\n          <span class=\"tei-tag code\">pb-view</span>\n          webcomponent also lets you define arbitrary parameters to be\n            passed to the ODD via\n          <span class=\"tei-tag code\">pb-param</span>\n          . For example, the breadcrumbs shown above this\n            documentation page are realized by setting a parameter\n          <span class=\"tei-parameter code\">mode</span>\n          and\n            can be queried in model predicates with\n          <span class=\"tei-parameter code\">$parameters?mode='breadcrumbs'</span>\n          .\n        </p>\n        <pb-code-highlight class=\"tei-programlisting5\" language=\"xml\" line-numbers=\"line-numbers\">&lt;section class=\"breadcrumbs\"&gt;\n    &lt;pb-view id=\"title-view1\" src=\"document1\" subscribe=\"transcription\"&gt;\n        &lt;pb-param name=\"mode\" value=\"breadcrumbs\"/&gt;\n    &lt;/pb-view&gt;\n&lt;/section&gt;</pb-code-highlight>\n        <p class=\"tei-para\">If the parameter is set, the processing model rules in the ODD will output the\n            headings of all ancestor sections of the current division only, ignoring everything\n            else. This approach helps to reuse the same ODD for viewing specific aspects of the\n            document.</p>\n        <p class=\"tei-para\">\n          A dedicated user interface webcomponent\n          <a href=\"https://unpkg.com/@teipublisher/pb-components@latest/dist/api.html#pb-toggle-feature.0\" class=\"tei-link4\" target=\"_new\">\n            <span class=\"tei-tag code\">pb-toggle-feature</span>\n          </a>\n          exists for toggling between two values of a\n            parameter. Example below would produce a checkbox which when on results in the value of\n          <span class=\"tei-parameter code\">$parameters?mode</span>\n          set to\n          <span class=\"tei-parameter code\">diplomatic</span>\n          ,\n            otherwise to\n          <span class=\"tei-parameter code\">norm</span>\n          .\n        </p>\n        <pb-code-highlight class=\"tei-programlisting5\" language=\"xml\" line-numbers=\"line-numbers\">&lt;pb-toggle-feature name=\"mode\" on=\"diplomatic\" off=\"norm\"&gt;Diplomatic View&lt;/pb-toggle-feature&gt;</pb-code-highlight>\n      </pb-observable></div></div>",
    "footnotes": "",
    "userParams": {
        "webcomponents": 7
    },
    "collection": "doc"
}