{
    "format": "json",
    "view": "div",
    "doc": "documentation.xml",
    "root": "3.22.21.9",
    "rootNode": "3.22.21.9",
    "id": "multiple-odds",
    "odd": "docbook.odd",
    "next": "3.22.21.9.13",
    "previous": "3.22.21",
    "nextId": "multiple-odds-collection",
    "previousId": "appgen-modify",
    "switchView": null,
    "content": "<!DOCTYPE html><html><head></head><body><div class=\"content \"><div class=\"tei-section3\" id=\"multiple-odds\"><pb-observable data=\"3.22.21.9,3.22.21.9\" emit=\"transcription\"><h3 class=\"tei-title7 title\">Using Multiple ODDs</h3><p class=\"tei-para\">For performance reasons, the mechanism used by generated apps to transform a\n            document via an ODD is slightly different to the one in the main TEI Publisher app:\n            while TEI Publisher resolves ODDs dynamically, generated apps use a static lookup\n            method. </p><p class=\"tei-para\">The static method is much faster, resulting in better overall performance, but as a\n            consequence ODDs are not automatically detected by the app, and need to be explicitly\n            registered.</p><p class=\"tei-para\">\n          Each generated app will by default use a single ODD for all transformations but it\n            is possible to add additional ODDs, e.g. to be used with a\n          <span class=\"tei-code2 code\">pb-view</span>\n          in a\n            custom HTML template. If multiple ODDs are selected when generating the app, the app\n            generator will take care of registering those ODDs. If you would like to add ODDs\n            manually later, the procedure is as follows:\n        </p><ol class=\"tei-procedure\"><li class=\"tei-step\">\n            <p class=\"tei-para\">\n              Upload the ODD to the\n              <span class=\"tei-filename code\">resources/odd</span>\n              collection below your\n                app root. This can either be done via\n              <span class=\"tei-emphasis2\">eXide</span>\n              or the\n              <span class=\"tei-guibutton guibutton\">Upload</span>\n              panel on the start page of your app.\n            </p>\n          </li><li class=\"tei-step\">\n            <p class=\"tei-para\">\n              In\n              <span class=\"tei-filename code\">modules/config.xqm</span>\n              find the variable called\n              <span class=\"tei-parameter code\">$config:odd-available</span>\n              and add the name of the new ODD to\n                the sequence.\n            </p>\n            <pb-code-highlight class=\"tei-programlisting5\" language=\"xquery\" line-numbers=\"line-numbers\">(:~\n : The main ODD to be used by default\n :)\ndeclare variable $config:default-odd :=\"shakespeare.odd\";\n\n(:~\n : Complete list of ODD files used by the app. If you add another ODD to this list,\n : make sure to run modules/generate-pm-config.xql to update the main configuration\n : module for transformations (modules/pm-config.xql).\n :)\ndeclare variable $config:odd-available :=(\"shakespeare.odd\");</pb-code-highlight>\n          </li><li class=\"tei-step\">\n            <p class=\"tei-para\">\n              In eXide, open\n              <span class=\"tei-filename code\">modules/generate-pm-config.xql</span>\n              (path\n                relative to your app root) and execute it once. This will regenerate the XQuery\n                module\n              <span class=\"tei-filename code\">modules/pm-config.xql</span>\n              , which registers all the ODD\n                modules known to the app.\n            </p>\n          </li><li class=\"tei-step\">\n            <p class=\"tei-para\">Additionally you need to regenerate all ODDs used by the app by either</p>\n            <ol class=\"tei-orderedlist\"><li class=\"tei-listitem\">\n                <p class=\"tei-para\">\n                  Clicking the\n                  <span class=\"tei-guibutton guibutton\">Regenerate all ODDs</span>\n                  button on the start\n                    page of the app\n                </p>\n              </li><li class=\"tei-listitem\">\n                <p class=\"tei-para\">\n                  Via the api documentation page\n                  <span class=\"tei-filename code\">api.html</span>\n                  by executing\n                    the\n                  <span class=\"tei-parameter code\">POST</span>\n                  version of the\n                  <span class=\"tei-code2 code\">/api/odd</span>\n                  .\n                </p>\n              </li></ol>\n          </li></ol></pb-observable></div></div></body></html>",
    "footnotes": "",
    "userParams": {
        "webcomponents": 7
    },
    "collection": "doc"
}