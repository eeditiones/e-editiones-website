---
title: "TEI Publisher 8.0.0"
short: TEI Publisher 8.0.0
lead:  "Version 8: central URL registry, named entity recognition, print CSS and more"
author: Wolfgang Meier
date: 2023-03-28
tags:
    - draft
    - announcements
    - tei-publisher
    - release
coverImage: publisher8.jpg
coverImageCredits: 
---

![](/img/publisher8-big.jpg)

> TEI Publisher 8 introduces a central URL registry, named entity recognition, print CSS and more.

The newest release of TEI Publisher combines some major redesigns in the libraries used. The maybe biggest change – though not immediately visible – took place in web components: from the start we tried to create each component as independent, monadic entity, communicating with other components only through signals. This results in great flexibility as you can recombine and reuse components all over the place, but it also turns pages into a beehive, lacking a central coordinating power. This is in particular problematic when we look at the navigation aspect: to put it simple, users expect that

1. bookmarking a page and reloading it later will result in a similar display
2. using the browser history back and forth navigation properly restores previous states

Previously each component would handle its own state, sometimes reacting to parameters and browser history events, sometimes not. The new 2.x.x series of components therefore introduces a central state management, which each component uses as single source of truth. Combined with the existing flexibility of server-side URL handling via the Open API, this should result in more speaking and bookmarkable URLs.

Please note that we follow a semantic versioning scheme: a change in the major version number indicates a breaking, i.e. not backwards compatible version. While most web components should work as before, some may need special attention (in particular `pb-facs-link` in combination with `pb-facsimile`, see below).

Breaking changes also happened in TEI Publisher's core library, `tei-publisher-lib`, the main reason for this being the added support for Print CSS as a new output mode. Print CSS – officially called: Paged Media CSS – represents an option to generate good looking printouts using just HTML and CSS. While browser support is still lacking, there are tools to fill the gap, making it possible to produce high-quality print output. TEI Publisher 8 provides interfaces to those tools. Details have already been covered in a community meetup, so please refer to the e-editiones blog for [detailed information](https://www.e-editiones.org/posts/print-css/).

<figure>
    <img src="/img/tei-publisher-docs-printcss.png">
    <figcaption>Two pages from the TEI Publisher documentation rendered with paged.js</figcaption>
</figure>

`tei-publisher-lib` 3.0.0 also introduces two new extensions to the processing model, namely _processing modes_ and _parameter setting_. Read more about this in the [separate announcement](https://www.e-editiones.org/posts/tei-publisher-lib-3/).

Thanks to yet another new library we created, TEI Publisher's web annotation editor now also includes experimental support for _detecting and tagging named entities in texts_. Even better, training your own model is tightly integrated with TEI Publisher: it will directly generate training data from already annotated TEI texts.

![NER in action](/img/wikipedia.gif)

The feature requires an external service though. If you would like to give it a try, please head over to the [corresponding article](https://www.e-editiones.org/posts/names-sell-named-entity-recognition-in-tei-publisher/).

The TEI Publisher application itself shows a bunch of new examples and a redesigned start page, which blurs the boundaries between browsing and search. The HTML behind the page got more modular, allowing editions to better mix and match features in the way which best fits the material presented.

Finally, JATS (the Journal Publishing Tag Library) joins TEI and Docbook as a fully supported XML format. This means you cannot just view JATS documents, but also browse and search them.

## Compatibility and Upgrading

Due to the breaking changes in associated libraries, updating a custom edition generated with TEI Publisher 7 to 8 requires some manual steps. While the list of steps may look rather long, they are not very complex and can be applied quickly if you follow the [instructions](https://teipublisher.com/exist/apps/tei-publisher/doc/documentation.xml#upgrade7-8).

Other particular changes to pay attention to:

* The behaviour of the `pb-facsimile` and `pb-facs-link` webcomponents has changed: `pb-facs-link` must now emit to the event channel `pb-facsimile` is listening to. Previously emitting to the default channel was enough. You should thus change all `pb-facs-link` elements generated by your ODD to include an `@emit` attribute targetting the correct channel.
* `tei-publisher-lib` 3.x.x reassigns the `print` output mode to generate HTML output targetted at print. In older version `print` was defined as an alias for `fo`. You may thus have to change your ODDs if you used the fo mode. A more elaborate explanation of the changes is presented in this [e-editiones article](https://www.e-editiones.org/posts/tei-publisher-lib-3/).