<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEI Publisher 9.1.0</title>
    <meta name="description" content="e-editiones – Society for Scholarly Digital Editions">
    
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/svg+xml" href="/favicon.svg"></link>
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/bootstrap-icons.css">
    <link rel="stylesheet" href="/assets/css/prism-base16-monokai.dark.css">
    <link rel="stylesheet" href="/assets/css/prism-diff.css">
    <link rel="stylesheet" href="/assets/css/index.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="e-editiones">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="e-editiones">
    
    
  </head>
  <body>
      <header>
    


<nav class="navbar navbar-expand-lg navbar-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="/"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">

            <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
        <a href="/" class="nav-link">Home</a>
    </li><li class="nav-item dropdown">
        <a class="dropdown-toggle nav-link"
            data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Community</a>
        <ul class="dropdown-menu"><li class="nav-item">
        <a href="/pages/developer/" class="nav-link">For developers</a>
    </li><li class="nav-item">
        <a href="/pages/memory/" class="nav-link">For memory institutions</a>
    </li><li class="nav-item">
        <a href="/pages/researcher/" class="nav-link">For researchers</a>
    </li><li class="nav-item">
        <a href="/pages/getting-started/" class="nav-link">Getting Started</a>
    </li><li class="nav-item">
        <a href="/pages/get-in-touch/" class="nav-link">Get in Touch</a>
    </li><li class="nav-item">
        <a href="/pages/how-to-contribute/" class="nav-link">How to Contribute</a>
    </li><li class="nav-item">
        <a href="/pages/community-meetings/" class="nav-link">Community Meetings</a>
    </li><li class="nav-item">
        <a href="/pages/code-of-conduct/" class="nav-link">Code of Conduct</a>
    </li></ul>
    </li><li class="nav-item dropdown">
        <a class="dropdown-toggle nav-link"
            data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Society</a>
        <ul class="dropdown-menu"><li class="nav-item">
        <a href="/pages/strategy/" class="nav-link">Strategy</a>
    </li><li class="nav-item">
        <a href="/pages/statuten-des-vereins-e-editiones-german/" class="nav-link">Statuten des Vereins e-editiones (German)</a>
    </li><li class="nav-item">
        <a href="/pages/meeting-minutes/" class="nav-link">Meeting Minutes</a>
    </li><li class="nav-item">
        <a href="/pages/board/" class="nav-link">Board</a>
    </li><li class="nav-item">
        <a href="/pages/members/" class="nav-link">Members</a>
    </li><li class="nav-item">
        <a href="/pages/groups/" class="nav-link">Groups</a>
    </li><li class="nav-item">
        <a href="/pages/how-to-become-a-member/" class="nav-link">How to become a member</a>
    </li></ul>
    </li><li class="nav-item">
        <a href="/posts/" class="nav-link">Archive</a>
    </li><li class="nav-item">
                    <a href="/tags/events/" class="nav-link">Events</a>
                </li>
                <li class="nav-item">
                    <a href="/map/" class="nav-link">Project Registry</a>
                </li>
            </ul>
            <div class="icons d-flex justify-content-end">
                <a rel="me" href="https://social.e-editiones.org/@eeditiones" class="me-4"><i class="bi bi-mastodon"></i></a>
                <a href="https://twitter.com/EEditiones" class="me-4">
                    <i class="bi bi-twitter"></i>
                </a>
                <a href="https://github.com/eeditiones/e-editiones-website/blob/main/./posts/tei-publisher-9.1.md">
                    <i class="bi bi-github"></i>
                </a>
            </div>
        </div>
    </div>
</nav>

</header>
<main class="container tmpl-post">
    <div class="row gx-lg-5 gx-2">
        <div class="col-lg-9 col-md-9">
            <h1>TEI Publisher 9.1.0</h1>

            <div class="dateline">
              <div>Wolfgang Meier</div>
              <time datetime="2024-10-16">16 Oct 2024</time>
            </div>

            
            
            <blockquote>
<p>A bug fix release, mainly addressing failures on Windows, but also some other small, but annoying bugs.</p>
</blockquote>
<p>We're working hard on TEI Publisher 10, which will bring a major redesign, but it's still a few weeks away. We therefore decided to roll out version 9.1.0, incorporating a few important fixes.</p>
<h2 id="tei-publisher-on-windows" tabindex="-1">TEI Publisher on Windows</h2>
<p><code>tei-publisher-lib</code> 4.0.0 introduced a new, useful feature: within the ODD one could access variables and functions defined in TEI Publisher's main configuration module, <code>config.xqm</code> using the <code>global:</code> namespace. For example, to get the path to the application's data root collection one could use <code>$global:data-root</code>.</p>
<p>Unfortunately this feature causes failures on Windows (but only there as far as we know). The issue appears when you try to recompile an ODD or install a generated application. Users either got an unclear error message or the process silently failed.</p>
<p>The cause for this lies in the complexity of <code>config.xqm</code>, which itself imports a larger number of other files. On Windows, eXist-db (currently) fails to resolve those imports.</p>
<p>Instead of always importing the entire <code>config.xqm</code>, we decided to make it configurable: by default, TEI Publisher 9.1 will now import a dedicated configuration module, <code>odd-global.xqm</code>. You may either add the information you need within your ODD there, or create your own module and configure it in the global ODD configuration file, <code>configuration.xml</code>. See the updating section of the <a href="https://teipublisher.org/exist/apps/tei-publisher/documentation/upgrade-910">documentation</a> for more information.</p>
<h2 id="access-to-http-request-parameters" tabindex="-1">Access to HTTP request parameters</h2>
<p>In some cases, trying to access HTTP request parameters from within an HTML template would fail. This happend at more or less random times. We added a workaround to avoid this.</p>
<h2 id="annotations" tabindex="-1">Annotations</h2>
<p>The release includes an important <a href="https://github.com/eeditiones/tei-publisher-app/pull/232">fix</a> contributed by Boris Lehečka: when adding a note via the web annotation editor, it was inserted <em>before</em> the selected element. This is clearly not what you would expect for footnotes!</p>
<p>A revision panel was added to the editor, allowing users to describe the changes made before saving. Within the TEI header, this creates a <code>change</code> entry in the <code>revisionDesc</code> section, including username and timestamp.</p>
<figure><img src="/img/annotations-revision.png" alt="" width="50%"><figcaption>Revision panel in annotation editor</figcaption></figure>
<p>Finally, we fixed the annoying issue that the preview panels were not scrollable, therefore making it impossible to see and check all the changes or the full XML.</p>
<h1 id="try-it-..." tabindex="-1">Try it ...</h1>
<p>As usual you can try the latest version on the <a href="https://tei-publisher.org">TEI Publisher homepage</a>. Note that <strong>write access is limited</strong> on this server. To get the full experience, we suggest to install TEI Publisher locally. The easiest way is probably to use our <a href="https://tei-publisher.org/exist/apps/tei-publisher/documentation/docker">docker images</a>.</p>
<p>Updating from 9.0 to 9.1 requires only little changes. The procedure is described in the <a href="https://teipublisher.org/exist/apps/tei-publisher/documentation/upgrade-910">documentation</a>. The good news: with TEI Publisher 10 updating will become <strong>a lot easier</strong>, hopefully working mostly automatic.</p>

        </div>
        
        <aside class="col-lg-3 col-md-3">

            <div class="btn-group w-100 mb-3">
              <a class="btn btn-light" href="/posts/register-slovenian-manuscripts/"
                data-bs-toggle="tooltip" title="Register of Older Slovenian Manuscripts">
                <i class="bi bi-arrow-right"></i>
              </a>
              
            </div>

            <ul class="tags mb-3">
              <li><a href="/tags/announcements/" class="badge text-bg-light" style="color: var(--color-2) !important">announcements</a></li>
              <li><a href="/tags/tei-publisher/" class="badge text-bg-light" style="color: var(--color-3) !important">tei-publisher</a></li>
              <li><a href="/tags/release/" class="badge text-bg-light" style="color: var(--color-4) !important">release</a></li>
            </ul>

            <nav class="toc" >
        <ul><li><a href="#tei-publisher-on-windows">TEI Publisher on Windows</a></li><li><a href="#access-to-http-request-parameters">Access to HTTP request parameters</a></li><li><a href="#annotations">Annotations</a></li></ul>
      </nav>
        </aside>
        
    </div>
</main>

<footer class="p-2">
    <div class="col-8">e-editiones | c/o Stadtarchiv der Ortsbürgergemeinde St.Gallen | Notkerstrasse 22 | CH-9000 St. Gallen | info@e-editiones.org<br/>
    IBAN: CH21 0900 0000 1549 5086 6 | BIC: POFICHBEXXX<br/>
    <a href="/pages/imprint">Imprint</a> | <a href="/pages/gdpr">Data Protection</a>
    </div>
</footer>

      <script src="/assets/scripts/bootstrap.bundle.min.js"></script>
      <script src="/assets/scripts/common.js"></script>
      
      <!-- Matomo -->
      <script>
        var _paq = window._paq = window._paq || [];
        /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
        _paq.push(["setDoNotTrack", true]);
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
          var u="//stats.existsolutions.com/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '2']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
        })();
      </script>
      <!-- End Matomo Code -->
  </body>
</html>
