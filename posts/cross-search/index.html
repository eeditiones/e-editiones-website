<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cross search</title>
    <meta name="description" content="I am writing about my experiences as a naval navel-gazer.">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/prism-base16-monokai.dark.css">
    <link rel="stylesheet" href="/css/prism-diff.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="e-editiones">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="e-editiones">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;1,300;1,400&family=Zilla+Slab:ital,wght@0,300;1,300&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
    
  </head>
  <body>
      
<header>
    


<nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
        <a class="navbar-brand" href="/"><img src="/img/e-editiones-logo-color.svg"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">

            <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
        <a href="/" class="nav-link">Home</a>
    </li><li class="nav-item dropdown">
        <a class="dropdown-toggle nav-link"
            data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Community</a>
        <ul class="dropdown-menu"><li class="nav-item">
        <a href="/pages/getting-started/" class="nav-link">Getting Started</a>
    </li><li class="nav-item">
        <a href="/pages/get-in-touch/" class="nav-link">Get in Touch</a>
    </li><li class="nav-item">
        <a href="/pages/how-to-contribute/" class="nav-link">How to Contribute</a>
    </li><li class="nav-item">
        <a href="/pages/community-meetings/" class="nav-link">Community Meetings</a>
    </li><li class="nav-item">
        <a href="/pages/workshops/" class="nav-link">Workshops</a>
    </li><li class="nav-item">
        <a href="/map/" class="nav-link">TEI Publisher Registry</a>
    </li></ul>
    </li><li class="nav-item dropdown">
        <a class="dropdown-toggle nav-link"
            data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Society</a>
        <ul class="dropdown-menu"><li class="nav-item">
        <a href="/pages/strategy/" class="nav-link">Strategy</a>
    </li><li class="nav-item">
        <a href="/pages/statuten-des-vereins-e-editiones-german/" class="nav-link">Statuten des Vereins e-editiones (German)</a>
    </li><li class="nav-item">
        <a href="/pages/meeting-minutes/" class="nav-link">Meeting Minutes</a>
    </li><li class="nav-item">
        <a href="/pages/board/" class="nav-link">Board</a>
    </li><li class="nav-item">
        <a href="/pages/members/" class="nav-link">Members</a>
    </li><li class="nav-item">
        <a href="/pages/how-to-become-a-member/" class="nav-link">How to become a member</a>
    </li></ul>
    </li><li class="nav-item">
        <a href="/posts/" class="nav-link">Archive</a>
    </li><li class="nav-item">
                    <a href="/tags/events/" class="nav-link">Events</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
</header>

<main class="container tmpl-post">
    
    <h1>Cross search</h1>
    <div class="dateline">
  <time datetime="2020-12-23">23 Dec 2020</time>
  <a href="/tags/interoperability/" class="badge text-bg-light">interoperability</a>
  <a href="/tags/osa20/" class="badge text-bg-light">osa20</a>
  <a href="/tags/tei/" class="badge text-bg-light">tei</a>
  <a href="/tags/tei-publisher/" class="badge text-bg-light">tei-publisher</a>
</div>



<p>With a growing number of editions realized with the TEI Publisher it is a logical next step to wish for a search service which can run queries across multiple corpora at the same time.</p>
<p>Usually the problem to solve would be the great diversity of encoding across projects, even if they all use TEI as a vocabulary of choice. Even commonly represented information, like the language of the source document, can be stored in various locations in a TEI document. Lucene-based fields and facets, introduced in eXist-db 5.0 provide a mechanism to smoothly abstract away these encoding differences - we can just define, say, a <em>language</em> facet and it's the collection index configuration's role to take care of specifying where exactly to grab data from.</p>
<p>The next potential issue would be actually running the queries across corpora, particularly with the decentralized infrastructure where editions are hosted on diverse servers. The answer here is to define an API which individual editions need to expose, so that the aggregate search engine can just poll all its registered 'members', regardless of their location or how they implement the search internally.</p>
<figure><img src="/img/cross-results-1024x914.png" alt=""><figcaption>Cross-search results page</figcaption></figure>
<p>The <a href="https://teipublisher.com/exist/apps/cross-search/index.html">cross-search</a> prototype is exactly such a search engine. With a simple configuration one can register all 'member' editions. Only requirement for the editions themselves is that they expose the <code>api/search/document</code> API endpoint, which is a matter of simple customization for all TEI Publisher 7 applications which support Open API specifications out of the box. The <code>api/search/document</code> endpoint must accept a number of parameters defined in the specification. For this prototype the title, author and lang(uage) fields as well as genre, language and corpus facets were assumed.</p>
<p>We are very happy to report that our prototype works really well as a proof of concept with the eclectic collection of documents from TEI Publisher demo apps, all originating with vastly different projects with diverse encoding styles. Next, we intend to extend this idea into a general portal for archives and libraries and we would welcome collaboration from such institutions.</p>
<p>Our sincere thanks go to the <a href="http://https://bbf.dipf.de/en">Bibliothek f√ºr Bildungsgeschichtliche Forschung des DIPF / Research Library for the History of Education at DIPF</a> for supporting this project.</p>
<p>Tile photo by <a href="https://unsplash.com/@alinnnaaaa?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="unsplash">Alina Grubnyak</a> on <a href="https://unsplash.com/s/photos/connection?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="unsplash">Unsplash</a></p>

<hr>
<ul><li>Next: <a href="/posts/roaster-an-open-api-router-for-exist/">Roaster: an Open API Router for eXist</a></li><li>Previous: <a href="/posts/osa20/">Open Source Advent</a></li>
</ul>

</main>

<footer></footer>

<!-- Current page: /posts/cross-search/ -->
<!--script>
    document.addEventListener('DOMContentLoaded', function() {
    window.addEventListener('scroll', function() {
        const winTop = window.pageYOffset;
        console.log('scrolling %s', winTop);
        if (winTop > 30) {
        document.body.classList.add('sticky');
        } else {
        document.body.classList.remove('sticky');
        }
    });
    });
</script-->
  </body>
</html>